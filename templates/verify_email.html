{% extends "base.html" %}

{% block title %}Verify Email - Cafe Next Door{% endblock %}

{% block content %}
<div class="page-header">
    <div class="container">
        <h1 class="page-title">Verify Your Email Address</h1>
        <p class="page-subtitle">Required to place orders</p>
    </div>
</div>

<div class="auth-page">
    <div class="auth-container">
        <div class="auth-header">
            <h1>Email Verification</h1>
            <p>We'll send a verification code to <strong>{{ customer.email or 'your email address' }}</strong></p>
        </div>
        
        {% if not customer.email %}
        <div class="alert alert-warning">
            <p>Email address not found. Please contact support.</p>
            <a href="{{ url_for('customer_profile') }}" class="btn btn-primary">Go to Profile</a>
        </div>
        {% else %}
        <form method="POST" class="auth-form">
            <div class="form-group">
                <label for="verification_code">Verification Code</label>
                <input type="text" id="verification_code" name="verification_code" required 
                       placeholder="Enter 6-digit code" maxlength="6" pattern="[0-9]{6}">
                <small>Enter the 6-digit code sent to your email address</small>
            </div>
            
            <button type="submit" class="btn btn-primary btn-full">Verify</button>
        </form>
        
        <div class="auth-footer">
            <form method="POST" action="{{ url_for('send_verification_code') }}" id="resend-form" style="margin-top: 1rem;">
                <button type="submit" class="btn btn-secondary btn-full">Send Verification Code</button>
            </form>
            <p style="text-align: center; margin-top: 1rem; color: #666; font-size: 0.9rem;">
                Didn't receive the code? Check your spam folder or click "Send Verification Code" again.
            </p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
