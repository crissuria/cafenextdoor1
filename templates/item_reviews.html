{% extends "base.html" %}

{% block title %}{{ item.name }} Reviews - Cafe Next Door{% endblock %}

{% block content %}
<div class="page-header">
    <div class="container">
        <h1 class="page-title">{{ item.name }}</h1>
        <p class="page-subtitle">Customer Reviews</p>
    </div>
</div>

<div class="reviews-page">
    <div class="container">
        <div class="reviews-summary">
            <div class="rating-display">
                <div class="big-rating">
                    <span class="big-stars">
                        {% for i in range(1, 6) %}
                            {% if i <= avg_rating|round|int %}
                                ★
                            {% else %}
                                ☆
                            {% endif %}
                        {% endfor %}
                    </span>
                    <span class="rating-number">{{ "%.1f"|format(avg_rating) }}</span>
                </div>
                <p class="review-count">{{ review_count }} review{{ 's' if review_count != 1 else '' }}</p>
            </div>
        </div>
        
        {% if reviews %}
        <div class="reviews-list">
            {% for review in reviews %}
            <div class="review-card">
                <div class="review-header">
                    <div class="reviewer-info">
                        <strong>{{ review.first_name }} {{ review.last_name }}</strong>
                        <span class="review-date">{{ review.created_at[:10] }}</span>
                    </div>
                    <div class="review-rating">
                        {% for i in range(1, 6) %}
                            {% if i <= review.rating %}
                                ★
                            {% else %}
                                ☆
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% if review.comment %}
                <p class="review-comment">{{ review.comment }}</p>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state">
            <p>No reviews yet for this item.</p>
        </div>
        {% endif %}
        
        <div class="reviews-actions">
            <a href="{{ url_for('menu') }}" class="btn btn-secondary">Back to Menu</a>
        </div>
    </div>
</div>
{% endblock %}























